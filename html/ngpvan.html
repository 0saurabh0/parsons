

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>VAN &mdash; Parsons 0.5 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Phone2Action" href="p2a.html" />
    <link rel="prev" title="New/Mode" href="newmode.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Parsons
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Integrations</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="action_kit.html">ActionKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="airtable.html">Airtable</a></li>
<li class="toctree-l1"><a class="reference internal" href="bill_com.html">Bill.com</a></li>
<li class="toctree-l1"><a class="reference internal" href="civis.html">Civis</a></li>
<li class="toctree-l1"><a class="reference internal" href="copper.html">Copper</a></li>
<li class="toctree-l1"><a class="reference internal" href="crowdtangle.html">CrowdTangle</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="facebook_ads.html">FacebookAds</a></li>
<li class="toctree-l1"><a class="reference internal" href="freshdesk.html">Freshdesk</a></li>
<li class="toctree-l1"><a class="reference internal" href="google_sheets.html">GoogleSheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="google_cloud.html">Google Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="hustle.html">Hustle</a></li>
<li class="toctree-l1"><a class="reference internal" href="mobilize_america.html">Mobilize America</a></li>
<li class="toctree-l1"><a class="reference internal" href="newmode.html">New/Mode</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">VAN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#quickstart">QuickStart</a></li>
<li class="toctree-l2"><a class="reference internal" href="#common-workflows">Common Workflows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scores-loading-and-updating">Scores: Loading and Updating</a></li>
<li class="toctree-l3"><a class="reference internal" href="#people-add-survey-response">People: Add Survey Response</a></li>
<li class="toctree-l3"><a class="reference internal" href="#event-creating-and-modifying">Event: Creating and Modifying</a></li>
<li class="toctree-l3"><a class="reference internal" href="#signup-adding-and-modifying">Signup: Adding and Modifying</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#api">API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#people">People</a></li>
<li class="toctree-l3"><a class="reference internal" href="#activist-codes">Activist Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#canvass-responses">Canvass Responses</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changed-entities">Changed Entities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#codes">Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-fields">Custom Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#events">Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="#export-jobs">Export Jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#file-loading-jobs">File Loading Jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#folders">Folders</a></li>
<li class="toctree-l3"><a class="reference internal" href="#locations">Locations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#saved-lists">Saved Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scores">Scores</a></li>
<li class="toctree-l3"><a class="reference internal" href="#signups">Signups</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supporter-groups">Supporter Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="#survey-questions">Survey Questions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="p2a.html">Phone2Action</a></li>
<li class="toctree-l1"><a class="reference internal" href="redash.html">Redash</a></li>
<li class="toctree-l1"><a class="reference internal" href="redshift.html">Redshift</a></li>
<li class="toctree-l1"><a class="reference internal" href="s3.html">S3</a></li>
<li class="toctree-l1"><a class="reference internal" href="salesforce.html">Salesforce</a></li>
<li class="toctree-l1"><a class="reference internal" href="sftp.html">SFTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="ts.html">TargetSmart</a></li>
<li class="toctree-l1"><a class="reference internal" href="twilio.html">Twilio</a></li>
<li class="toctree-l1"><a class="reference internal" href="turbovote.html">TurboVote</a></li>
</ul>
<p class="caption"><span class="caption-text">Enhancements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="google_civic.html">Google Civic</a></li>
<li class="toctree-l1"><a class="reference internal" href="census_geocoder.html">US Census Geocoder</a></li>
</ul>
<p class="caption"><span class="caption-text">Framework</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="table.html">Parsons Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="notifications.html">Notifications</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Parsons</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>VAN</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/ngpvan.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="van">
<h1>VAN<a class="headerlink" href="#van" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The VAN module leverages the VAN API and generally follows the naming convention of their API endpoints. It
is recommended that you reference their <a class="reference external" href="https://developers.ngpvan.com/van-api#van">API documentation</a> to
additional details and information.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<dl class="last docutils">
<dt>API Keys</dt>
<dd>API Keys are specific to each committee and state, so you might need many. Not all API Keys are provisioned for all endpoints. When requesting API keys, you should specify the endpoints that you need access to. To learn more about
your api key run <code class="docutils literal notranslate"><span class="pre">VAN.connection.api_key_profile</span></code>.</dd>
</dl>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<dl class="last docutils">
<dt>VANIDs</dt>
<dd>VANIDs are unique to each state and instance of the VAN. VANIDs used for the AV VAN <strong>will not</strong> match
those of the SmartVAN or VoteBuilder.</dd>
</dl>
</div>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="quickstart">
<h2>QuickStart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h2>
<p>To call the VAN class you can either store the api key as an environmental variable VAN_API_KEY or pass it in as an argument..</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">parsons</span> <span class="kn">import</span> <span class="n">VAN</span>

 <span class="n">van</span> <span class="o">=</span> <span class="n">VAN</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;MyVoters&#39;</span><span class="p">)</span> <span class="c1"># Specify the DB type and pass api key via environmental variable.</span>

 <span class="n">van</span> <span class="o">=</span> <span class="n">VAN</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s1">&#39;asdfa-sdfadsf-adsfasdf&#39;</span><span class="p">,</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;MyVoters&#39;</span><span class="p">)</span> <span class="c1"># Pass api key directly</span>
</pre></div>
</div>
<p>You can then call various endpoints:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">parsons</span> <span class="kn">import</span> <span class="n">VAN</span>

 <span class="n">van</span> <span class="o">=</span> <span class="n">VAN</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;MyVoters&#39;</span><span class="p">)</span>

 <span class="c1"># List events with a date filter</span>
 <span class="n">events</span> <span class="o">=</span> <span class="n">van</span><span class="o">.</span><span class="n">get_events</span><span class="p">(</span><span class="n">starting_before</span><span class="o">=</span><span class="s1">&#39;2018-02-01&#39;</span><span class="p">)</span>

 <span class="c1"># List all folders shared with API Key User</span>
 <span class="n">folders</span> <span class="o">=</span> <span class="n">van</span><span class="o">.</span><span class="n">get_folders</span><span class="p">()</span>

 <span class="c1"># Return to a Redshift database</span>
 <span class="n">saved_lists</span> <span class="o">=</span> <span class="n">van</span><span class="o">.</span><span class="n">get_saved_lists</span><span class="p">()</span><span class="o">.</span><span class="n">to_redshift</span><span class="p">(</span><span class="s1">&#39;van.my_saved_lists&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This a is just a small sampling of all of the VAN endpoints that you can leverage. We recommend reviewing the
documentation for all functions.</p>
</div>
<div class="section" id="common-workflows">
<h2>Common Workflows<a class="headerlink" href="#common-workflows" title="Permalink to this headline">¶</a></h2>
<div class="section" id="scores-loading-and-updating">
<h3>Scores: Loading and Updating<a class="headerlink" href="#scores-loading-and-updating" title="Permalink to this headline">¶</a></h3>
<p>Loading a score is a multi-step process. Once a score is set to approved, loading takes place overnight.</p>
<p><strong>Standard Auto Approve Load</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">parsons</span> <span class="kn">import</span> <span class="n">VAN</span>
<span class="n">van</span> <span class="o">=</span> <span class="n">VAN</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;MyVoters&#39;</span><span class="p">)</span> <span class="c1"># API key stored as an environmental variable</span>

<span class="c1"># If you don&#39;t know the id, you can run van.get_scores() to list the</span>
<span class="c1"># slots that are available and their associated score ids.</span>
<span class="n">score_id</span> <span class="o">=</span> <span class="mi">9999</span>

<span class="c1"># Load the Parsons table with the scores. The first column of the table</span>
<span class="c1"># must be the person id (e.g. VANID). You could create this from Redshift or</span>
<span class="c1"># another source.</span>
<span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="o">.</span><span class="n">from_csv</span><span class="p">(</span><span class="s1">&#39;winning_scores.csv&#39;</span><span class="p">)</span>

<span class="c1"># Specify the score id slot and the column name for each score.</span>
<span class="n">config</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;score_id&#39;</span><span class="p">:</span> <span class="n">score_id</span><span class="p">,</span> <span class="s1">&#39;score_column&#39;</span><span class="p">:</span> <span class="s1">&#39;winning_model&#39;</span><span class="p">}]</span>

<span class="c1"># If you have multiple models in the same file, you can load them all at the same time.</span>
<span class="c1"># In fact, VAN recommends that you do so to reduce their server loads.</span>
<span class="n">config</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;score_id&#39;</span><span class="p">:</span> <span class="mi">5555</span><span class="p">,</span> <span class="s1">&#39;score_column&#39;</span><span class="p">:</span> <span class="s1">&#39;score1&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;score_id&#39;</span><span class="p">:</span> <span class="mi">5556</span><span class="p">,</span> <span class="s1">&#39;score_column&#39;</span><span class="p">:</span> <span class="s1">&#39;score2&#39;</span><span class="p">}]</span>

<span class="c1"># The score file must posted to the internet. This configuration uses S3 to do so. In this</span>
<span class="c1"># example, your S3 keys are stored as environmental variables. If not, you can pass them</span>
<span class="c1"># as arguments.</span>
<span class="n">job_id</span> <span class="o">=</span> <span class="n">van</span><span class="o">.</span><span class="n">upload_scores</span><span class="p">(</span><span class="n">tbl</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">url_type</span><span class="o">=</span><span class="s1">&#39;S3&#39;</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="s1">&#39;info@tmc.org&#39;</span><span class="p">,</span> <span class="n">bucket</span><span class="o">=</span><span class="s1">&#39;tmc-fake&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Standard Load Requiring Approval</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">parsons</span> <span class="kn">import</span> <span class="n">VAN</span>

<span class="n">van</span> <span class="o">=</span> <span class="n">VAN</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;MyVoters&#39;</span><span class="p">)</span> <span class="c1"># API key stored as an environmental variable</span>
<span class="n">config</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;score_id&#39;</span><span class="p">:</span> <span class="mi">3421</span><span class="p">,</span> <span class="s1">&#39;score_column&#39;</span><span class="p">:</span> <span class="s1">&#39;winning_model&#39;</span><span class="p">}]</span>

<span class="c1"># Note that auto_approve is set to False. This means that you need to manually approve</span>
<span class="c1"># the job once it is loaded.</span>
<span class="n">job_id</span> <span class="o">=</span> <span class="n">van</span><span class="o">.</span><span class="n">upload_scores</span><span class="p">(</span><span class="n">tbl</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">url_type</span><span class="o">=</span><span class="s1">&#39;S3&#39;</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="s1">&#39;info@tmc.org&#39;</span><span class="p">,</span>
                           <span class="n">bucket</span><span class="o">=</span><span class="s1">&#39;tmc-fake&#39;</span><span class="p">,</span> <span class="n">auto_approve</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Approve the job</span>
<span class="n">van</span><span class="o">.</span><span class="n">score_update_status</span><span class="p">(</span><span class="n">job_id</span><span class="p">,</span><span class="s1">&#39;approved&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="people-add-survey-response">
<h3>People: Add Survey Response<a class="headerlink" href="#people-add-survey-response" title="Permalink to this headline">¶</a></h3>
<p>The following workflow can be used to apply survey questions, activist codes
and canvass responses.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">parsons</span> <span class="kn">import</span> <span class="n">VAN</span>

<span class="c1"># Instantiate Class</span>
<span class="n">van</span> <span class="o">=</span> <span class="n">VAN</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s2">&quot;MyVoters&quot;</span><span class="p">)</span>

<span class="n">van_id</span> <span class="o">=</span> <span class="mi">13242</span>
<span class="n">sq</span> <span class="o">=</span> <span class="mi">311838</span> <span class="c1"># Valid survey question id</span>
<span class="n">sr</span> <span class="o">=</span> <span class="mi">1288926</span> <span class="c1"># Valid survey response id</span>
<span class="n">ct</span> <span class="o">=</span> <span class="mi">36</span> <span class="c1"># Valid contact type id</span>
<span class="n">it</span> <span class="o">=</span> <span class="mi">4</span> <span class="c1"># Valid input type id</span>

<span class="c1"># Create a valid survey question response</span>
<span class="n">van</span><span class="o">.</span><span class="n">apply_survey_response</span><span class="p">(</span><span class="n">vanid</span><span class="p">,</span> <span class="n">sq</span><span class="p">,</span> <span class="n">sr</span><span class="p">,</span> <span class="n">contact_type_id</span><span class="o">=</span><span class="n">ct</span><span class="p">,</span> <span class="n">input_type_id</span><span class="o">=</span><span class="n">it</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="event-creating-and-modifying">
<h3>Event: Creating and Modifying<a class="headerlink" href="#event-creating-and-modifying" title="Permalink to this headline">¶</a></h3>
<p>Events are made up of sub objects that need to exist to create an event</p>
<ul class="simple">
<li>Event Object - The event itself</li>
<li>Event Type - The type of event, such as a <cite>Canvass</cite> or <cite>Phone Bank</cite>. These are created
in the VAN UI and can be reused for multiple events.</li>
<li>Locations - An event can have multiple locations. While not required to initially create an
event, these are required to add signups to an event.</li>
<li>Roles - The various roles that a person can have at an event, such as <code class="docutils literal notranslate"><span class="pre">Lead</span></code> or
<code class="docutils literal notranslate"><span class="pre">Canvasser</span></code>. These are set as part of the event type.</li>
<li>Shifts - Each event can have multiple shits in which a person can be assigned. These are
specified in the event creation.</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">parsons</span> <span class="kn">import</span> <span class="n">VAN</span>

<span class="c1"># Instantiate class</span>
<span class="n">van</span> <span class="o">=</span> <span class="n">VAN</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s2">&quot;EveryAction&quot;</span><span class="p">)</span>

<span class="c1"># Create A Location</span>
<span class="n">loc_id</span> <span class="o">=</span> <span class="n">van</span><span class="o">.</span><span class="n">location</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Big `Ol Canvass&#39;</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="s1">&#39;100 W Washington&#39;</span><span class="p">,</span> <span class="n">city</span><span class="o">=</span><span class="s1">&#39;Chicago&#39;</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;IL&#39;</span><span class="p">)</span>

<span class="c1"># Create Event</span>
<span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;GOTV Canvass&#39;</span> <span class="c1"># Name of event</span>
<span class="n">short_name</span> <span class="o">=</span> <span class="s1">&#39;GOTVCan&#39;</span> <span class="c1"># Short name of event, 12 chars or less</span>
<span class="n">start_time</span> <span class="o">=</span> <span class="s1">&#39;2018-11-01T15:00:00&#39;</span> <span class="c1"># ISO formatted date</span>
<span class="n">end_time</span> <span class="o">=</span> <span class="s1">&#39;2018-11-01T18:00:00&#39;</span> <span class="c1"># ISO formatted date after start time</span>
<span class="n">event_type_id</span> <span class="o">=</span> <span class="mi">296199</span> <span class="c1"># A valid event type id</span>
<span class="n">roles</span> <span class="o">=</span> <span class="p">[</span><span class="mi">259236</span><span class="p">]</span> <span class="c1"># A list of valid role ids</span>
<span class="n">location_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">loc_id</span><span class="p">]</span> <span class="c1"># An optional list of locations ids for the event</span>
<span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;CPD Super Volunteers Canvass&#39;</span> <span class="c1"># Optional description of 200 chars or less</span>
<span class="n">shifts</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Shift 1&#39;</span><span class="p">,</span>
           <span class="s1">&#39;start_time&#39;</span><span class="p">:</span> <span class="s1">&#39;2018-11-01T15:00:00&#39;</span><span class="p">,</span>
           <span class="s1">&#39;end_time&#39;</span><span class="p">:</span> <span class="s1">&#39;2018-11-11T17:00:00&#39;</span><span class="p">}]</span> <span class="c1"># Shifts must fall within event start/end time.</span>

<span class="n">new_event</span> <span class="o">=</span> <span class="n">van</span><span class="o">.</span><span class="n">event_create</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">short_name</span><span class="p">,</span> <span class="n">start_time</span><span class="p">,</span> <span class="n">end_time</span><span class="p">,</span> <span class="n">event_type_id</span><span class="p">,</span> <span class="n">roles</span><span class="p">,</span>
                             <span class="n">location_ids</span><span class="o">=</span><span class="n">location_ids</span><span class="p">,</span> <span class="n">shifts</span><span class="o">=</span><span class="n">shifts</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="signup-adding-and-modifying">
<h3>Signup: Adding and Modifying<a class="headerlink" href="#signup-adding-and-modifying" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">parsons</span> <span class="kn">import</span> <span class="n">VAN</span>

<span class="c1"># Instantiate class</span>
<span class="n">van</span> <span class="o">=</span> <span class="n">VAN</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s2">&quot;EveryAction&quot;</span><span class="p">)</span>

<span class="c1"># Create a new signup</span>

<span class="n">vanid</span> <span class="o">=</span> <span class="mi">100349920</span>
<span class="n">event_id</span> <span class="o">=</span> <span class="mi">750001004</span>
<span class="n">shift_id</span> <span class="o">=</span> <span class="mi">19076</span>
<span class="n">role_id</span> <span class="o">=</span> <span class="mi">263920</span>
<span class="n">location_id</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">role_id</span> <span class="o">=</span> <span class="mi">263920</span>
<span class="n">status_id</span> <span class="o">=</span> <span class="mi">11</span>

<span class="c1"># Create the signup. Will return a signup id</span>
<span class="n">signup_id</span>  <span class="o">=</span> <span class="n">van</span><span class="o">.</span><span class="n">signup_create</span><span class="p">(</span><span class="n">vanid</span><span class="p">,</span> <span class="n">event_id</span><span class="p">,</span> <span class="n">shift_id</span><span class="p">,</span> <span class="n">role_id</span><span class="p">,</span> <span class="n">status_id</span><span class="p">,</span> <span class="n">location_id</span>

<span class="c1"># Modify a status of the signup</span>
<span class="n">new_status_id</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">van</span><span class="o">.</span><span class="n">signup_update</span><span class="p">(</span><span class="n">signup_id</span><span class="p">,</span> <span class="n">status_id</span><span class="o">=</span><span class="n">new_status_id</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="people">
<h3>People<a class="headerlink" href="#people" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="activist-codes">
<h3>Activist Codes<a class="headerlink" href="#activist-codes" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="canvass-responses">
<h3>Canvass Responses<a class="headerlink" href="#canvass-responses" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="changed-entities">
<h3>Changed Entities<a class="headerlink" href="#changed-entities" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="codes">
<h3>Codes<a class="headerlink" href="#codes" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="custom-fields">
<h3>Custom Fields<a class="headerlink" href="#custom-fields" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="events">
<h3>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="export-jobs">
<h3>Export Jobs<a class="headerlink" href="#export-jobs" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="file-loading-jobs">
<h3>File Loading Jobs<a class="headerlink" href="#file-loading-jobs" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="folders">
<h3>Folders<a class="headerlink" href="#folders" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A folder must be shared with the user associated with your API key to
be listed.</p>
</div>
</div>
<div class="section" id="locations">
<h3>Locations<a class="headerlink" href="#locations" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="saved-lists">
<h3>Saved Lists<a class="headerlink" href="#saved-lists" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A saved list must be shared with the user associated with your API key to
be listed.</p>
</div>
</div>
<div class="section" id="scores">
<h3>Scores<a class="headerlink" href="#scores" title="Permalink to this headline">¶</a></h3>
<p>Prior to loading a score for the first time, you must contact VAN support to request
a score slot.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<dl class="last docutils">
<dt>Score Auto Approval</dt>
<dd>Scores can be automatically set to <code class="docutils literal notranslate"><span class="pre">approved</span></code> through the <code class="xref py py-meth docutils literal notranslate"><span class="pre">VAN.upload_scores()</span></code>
method allowing you to skip calling <code class="xref py py-meth docutils literal notranslate"><span class="pre">VAN.update_score_status()</span></code>, if the average of
the scores is within the fault tolerance specified by the user. It is only available
to API keys with permission to automatically approve scores.</dd>
</dl>
</div>
</div>
<div class="section" id="signups">
<h3>Signups<a class="headerlink" href="#signups" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="supporter-groups">
<h3>Supporter Groups<a class="headerlink" href="#supporter-groups" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="survey-questions">
<h3>Survey Questions<a class="headerlink" href="#survey-questions" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="p2a.html" class="btn btn-neutral float-right" title="Phone2Action" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="newmode.html" class="btn btn-neutral" title="New/Mode" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, The Movement Cooperative

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>